(this.webpackJsonpvaccinipertutti=this.webpackJsonpvaccinipertutti||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(0),i=n(10),r=n.n(i),o=n(76),s=n(13),j=n(14),u=n(77),l=n(165),b=(n(107),n(12)),O=n(151),d=n(154),m=n(169),f=n(176),h=n(172),g=n(158),p=n(167),x=n(173),v=n(160),w=n(161),D=n(162),y=n(163),S=n(164),C=n(159),F=n(174),z=n(149),E=n(150),M=n(168),P=n(170),Y=n(72),T=n(60);n(108);var _=function(){var e,t,n=Object(M.a)(Y).format(",d"),i=Object(P.a)(T),r=i.format("%A %e %B %Y"),o=i.format("%Y-%M-%d"),s=Object(c.useState)({}),u=Object(b.a)(s,2),l=u[0],_=u[1],k=Object(c.useState)([]),A=Object(b.a)(k,2),I=A[0],L=A[1],N=Object(c.useState)([]),B=Object(b.a)(N,2),R=B[0],J=B[1],V=Object(j.d)("area",Object(j.e)(j.c,"ITA")),W=Object(b.a)(V,2),Q=W[0],q=W[1],G=Object(c.useState)(new Date),H=Object(b.a)(G,2),K=H[0],U=H[1],X=Object(j.d)("lastDays",Object(j.e)(j.a,7)),Z=Object(b.a)(X,2),$=Z[0],ee=Z[1],te=Object(c.useState)(new Date),ne=Object(b.a)(te,2),ae=ne[0],ce=ne[1],ie=Object(c.useState)({}),re=Object(b.a)(ie,2),oe=re[0],se=re[1],je=Object(c.useState)(6e7),ue=Object(b.a)(je,2),le=ue[0],be=ue[1],Oe=Object(j.d)("populationFraction",Object(j.e)(j.a,.8)),de=Object(b.a)(Oe,2),me=de[0],fe=de[1],he=Object(j.d)("doses",Object(j.e)(j.a,2)),ge=Object(b.a)(he,2),pe=ge[0],xe=ge[1],ve=Object(c.useState)([]),we=Object(b.a)(ve,2),De=we[0],ye=we[1],Se=Object(c.useState)([]),Ce=Object(b.a)(Se,2),Fe=Ce[0],ze=Ce[1],Ee=Object(c.useState)(0),Me=Object(b.a)(Ee,2),Pe=Me[0],Ye=Me[1],Te=Object(c.useState)(0),_e=Object(b.a)(Te,2),ke=_e[0],Ae=_e[1],Ie=Object(c.useState)(0),Le=Object(b.a)(Ie,2),Ne=Le[0],Be=Le[1],Re=Object(j.d)("targetMonth",Object(j.e)(j.a,11)),Je=Object(b.a)(Re,2),Ve=Je[0],We=Je[1],Qe=Object(j.d)("targetYear",Object(j.e)(j.a,(new Date).getFullYear())),qe=Object(b.a)(Qe,2),Ge=qe[0],He=qe[1],Ke=Object(c.useState)(new Date),Ue=Object(b.a)(Ke,2),Xe=Ue[0],Ze=Ue[1],$e=Object(c.useState)(0),et=Object(b.a)($e,2),tt=et[0],nt=et[1],at=Object(c.useState)(!1),ct=Object(b.a)(at,2),it=ct[0],rt=ct[1];function ot(){rt(!1)}return Object(c.useEffect)((function(){window.fetch("../vaccinipertutti-data/last-update-dataset.json").then((function(e){return e.json()})).then((function(e){U(new Date(e.ultimo_aggiornamento))})),window.fetch("../vaccinipertutti-data/popolazione_residente_2020.json").then((function(e){return e.json()})).then((function(e){J(e),se(Object.fromEntries(Object(F.a)(e,(function(e){return e.area}))))})),window.fetch("../vaccinipertutti-data/somministrazioni-vaccini-summary-latest.json").then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return e.sort((function(e,t){return Object(z.a)(e.data_somministrazione,t.data_somministrazione)}))})).then((function(e){_(Object.fromEntries(Object(F.a)(e,(function(e){return e.area}))))}))}),[]),Object(c.useEffect)((function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()+1,0),n=new Date(Ge,Ve+1,0);console.log(t,n),n>t?Ze(new Date(Ge,Ve+1,0)):(We(Xe.getMonth()),He(Xe.getFullYear()))}),[Ve,Ge]),Object(c.useEffect)((function(){L(l[Q]||[])}),[l,Q]),Object(c.useEffect)((function(){oe[Q]&&be(oe[Q][0].totale)}),[oe,Q]),Object(c.useEffect)((function(){ye(Object(F.b)(I,(function(e){return Object(E.a)(e,(function(e){return e.totale}))}),(function(e){return o(new Date(e.data_somministrazione))}))),Ye(Object(E.a)(I,(function(e){return e.totale})))}),[I]),Object(c.useEffect)((function(){nt(ke/(Xe.getTime()-(new Date).getTime())*1e3*60*60*24)}),[Xe,ke]),Object(c.useEffect)((function(){ze(Object(E.a)(De.slice(1,$+1),(function(e){return e[1]}))/$)}),[De,$]),Object(c.useEffect)((function(){Ae(pe*le*me-Pe)}),[pe,le,me,Pe]),Object(c.useEffect)((function(){var e=ke/Fe,t=new Date;t.setDate(t.getDate()+Math.round(e)),Be(e),ce(t)}),[ke,Fe]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a,{maxWidth:"md",children:Object(a.jsxs)(d.a,{container:!0,direction:"column",justify:"center",spacing:2,children:[Object(a.jsxs)(d.a,{item:!0,children:["Termine previsto della campagna vaccinale in ",Object(a.jsx)("em",{children:null===(e=oe[Q])||void 0===e||null===(t=e[0])||void 0===t?void 0:t.nome})," contro Sars-CoV-2."]}),Object(a.jsx)(d.a,{item:!0,component:"h1",children:r(ae)}),Object(a.jsxs)(d.a,{item:!0,children:["In ",Object(a.jsx)(m.a,{value:R.length?Q:"",onChange:function(e){return q(e.target.value)},children:R.map((function(e){return Object(a.jsx)(f.a,{value:e.area,children:e.nome},e.area)}))})," si \xe8 iniziato a somministrare il primo vaccino il ",Object(a.jsx)("em",{children:"27 dicembre 2020"}),". A oggi, ",Object(a.jsx)("em",{children:r(K).toLowerCase()}),", sono state somministrate ",Object(a.jsx)("em",{children:n(Pe)})," dosi, ma ne mancano ",Object(a.jsx)("em",{children:n(ke)})," per vaccinare l'",Object(a.jsx)(h.a,{value:100*me,onChange:function(e){return fe(+e.target.value/100)},size:"small",inputProps:{type:"number",min:60,max:100,step:5},InputProps:{endAdornment:Object(a.jsx)(g.a,{position:"end",children:"%"})}})," della popolazione con ",Object(a.jsx)(h.a,{value:pe,onChange:function(e){return xe(+e.target.value)},size:"small",inputProps:{type:"number",min:1,max:2,step:1}})," dosi a testa. Al ritmo di ",Object(a.jsx)("em",{children:n(Fe)})," somministrazioni al giorno tenuto negli ultimi ",Object(a.jsx)(h.a,{value:$,onChange:function(e){return ee(+e.target.value)},size:"small",inputProps:{type:"number",min:1,max:De.length,step:1}})," giorni, mancano ",Object(a.jsxs)("em",{children:[Math.floor(Ne/365)," anni, ",Math.floor(Ne%365/30)," mesi e ",Math.floor(Ne%12)," giorni"]})," prima di raggiungere ",Object(a.jsx)("em",{children:"l'immunit\xe0 di gregge"}),". Per ottenerla entro ",Object(a.jsx)(m.a,{value:Ve,onChange:function(e){return We(+e.target.value)},children:T.months.map((function(e,t){return Object(a.jsx)(f.a,{value:t,children:e.toLocaleLowerCase()},t)}))})," ",Object(a.jsx)(h.a,{value:Ge,onChange:function(e){return He(+e.target.value)},size:"small",inputProps:{type:"number",min:(new Date).getFullYear(),max:(new Date).getFullYear()+10,step:1}})," bisognerebbe somministrare una media di ",Object(a.jsx)("em",{children:n(tt)})," dosi al giorno."]}),Object(a.jsx)(p.a,{className:"Flower lt"}),Object(a.jsx)(p.a,{className:"Flower lb"}),Object(a.jsx)(p.a,{className:"Cube rt icon",children:Object(a.jsx)(C.a,{color:"primary",onClick:function(){rt(!0)}})}),Object(a.jsx)(p.a,{className:"Flower rb"})]})}),Object(a.jsxs)(x.a,{open:it,onClose:ot,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(v.a,{id:"alert-dialog-title",children:"Vaccini per tutti by onData"}),Object(a.jsx)(w.a,{children:Object(a.jsx)(D.a,{id:"alert-dialog-description",children:"Questa \xe8 un'applicazione di onData."})}),Object(a.jsx)(y.a,{children:Object(a.jsx)(S.a,{onClick:ot,color:"secondary",autoFocus:!0,children:"Ok!"})})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,179)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},A=Object(u.a)({palette:{secondary:{main:"#e82f7d"}},typography:{fontFamily:['"Titillium Web"',"sans-serif"]}});r.a.render(Object(a.jsx)(o.a,{children:Object(a.jsx)(j.b,{ReactRouterRoute:s.a,children:Object(a.jsx)(l.a,{theme:A,children:Object(a.jsx)(_,{})})})}),document.getElementById("root")),k()}},[[115,1,2]]]);
//# sourceMappingURL=main.de7411b7.chunk.js.map