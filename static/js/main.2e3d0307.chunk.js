(this.webpackJsonpvaccinipertutti=this.webpackJsonpvaccinipertutti||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(6),i=a(0),c=a(10),r=a.n(c),o=a(76),s=a(13),l=a(14),u=a(77),j=a(166),b=(a(107),a(12)),d=a(152),O=a(155),m=a(170),h=a(177),f=a(173),p=a(159),g=a(168),x=a(174),v=a(161),w=a(162),z=a(163),D=a(164),S=a(165),y=a(160),C=a(149),F=a(175),k=a(150),_=a(151),E=a(169),P=a(171),M=a(72),T=a(60);a(108);var I=function(){var e,t,a=Object(E.a)(M).format(",d"),c=Object(P.a)(T),r=c.format("%A %e %B %Y"),o=c.format("%Y-%M-%d"),s=Object(i.useState)({}),u=Object(b.a)(s,2),j=u[0],I=u[1],Y=Object(i.useState)([]),A=Object(b.a)(Y,2),L=A[0],N=A[1],B=Object(i.useState)([]),R=Object(b.a)(B,2),V=R[0],G=R[1],J=Object(l.d)("area",Object(l.e)(l.c,"ITA")),W=Object(b.a)(J,2),H=W[0],Q=W[1],q=Object(i.useState)(new Date),K=Object(b.a)(q,2),U=K[0],X=K[1],Z=Object(l.d)("lastDays",Object(l.e)(l.a,7)),$=Object(b.a)(Z,2),ee=$[0],te=$[1],ae=Object(i.useState)(new Date),ne=Object(b.a)(ae,2),ie=ne[0],ce=ne[1],re=Object(i.useState)({}),oe=Object(b.a)(re,2),se=oe[0],le=oe[1],ue=Object(i.useState)(6e7),je=Object(b.a)(ue,2),be=je[0],de=je[1],Oe=Object(l.d)("populationFraction",Object(l.e)(l.a,.7)),me=Object(b.a)(Oe,2),he=me[0],fe=me[1],pe=Object(l.d)("doses",Object(l.e)(l.a,2)),ge=Object(b.a)(pe,2),xe=ge[0],ve=ge[1],we=Object(i.useState)([]),ze=Object(b.a)(we,2),De=ze[0],Se=ze[1],ye=Object(i.useState)([]),Ce=Object(b.a)(ye,2),Fe=Ce[0],ke=Ce[1],_e=Object(i.useState)(0),Ee=Object(b.a)(_e,2),Pe=Ee[0],Me=Ee[1],Te=Object(i.useState)(0),Ie=Object(b.a)(Te,2),Ye=Ie[0],Ae=Ie[1],Le=Object(i.useState)(0),Ne=Object(b.a)(Le,2),Be=Ne[0],Re=Ne[1],Ve=Object(l.d)("targetMonth",Object(l.e)(l.a,8)),Ge=Object(b.a)(Ve,2),Je=Ge[0],We=Ge[1],He=Object(l.d)("targetYear",Object(l.e)(l.a,(new Date).getFullYear())),Qe=Object(b.a)(He,2),qe=Qe[0],Ke=Qe[1],Ue=Object(i.useState)(new Date),Xe=Object(b.a)(Ue,2),Ze=Xe[0],$e=Xe[1],et=Object(i.useState)(0),tt=Object(b.a)(et,2),at=tt[0],nt=tt[1],it=Object(i.useState)(!1),ct=Object(b.a)(it,2),rt=ct[0],ot=ct[1];function st(){ot(!1)}return Object(i.useEffect)((function(){window.fetch("../vaccinipertutti-data/last-update-dataset.json").then((function(e){return e.json()})).then((function(e){X(new Date(e.ultimo_aggiornamento))})),window.fetch("../vaccinipertutti-data/popolazione_residente_2020.json").then((function(e){return e.json()})).then((function(e){return e.sort((function(e,t){return Object(C.a)(e.order,t.order)}))})).then((function(e){G(e),le(Object.fromEntries(Object(F.a)(e,(function(e){return e.area}))))})),window.fetch("../vaccinipertutti-data/somministrazioni-vaccini-summary-latest.json").then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return e.sort((function(e,t){return Object(k.a)(e.data_somministrazione,t.data_somministrazione)}))})).then((function(e){I(Object.fromEntries(Object(F.a)(e,(function(e){return e.area}))))}))}),[]),Object(i.useEffect)((function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()+1,0),a=new Date(qe,Je+1,0);console.log(t,a),a>t?$e(new Date(qe,Je+1,0)):(We(Ze.getMonth()),Ke(Ze.getFullYear()))}),[Je,qe]),Object(i.useEffect)((function(){N(j[H]||[])}),[j,H]),Object(i.useEffect)((function(){se[H]&&de(se[H][0].totale)}),[se,H]),Object(i.useEffect)((function(){Se(Object(F.b)(L,(function(e){return Object(_.a)(e,(function(e){return e.totale}))}),(function(e){return o(new Date(e.data_somministrazione))}))),Me(Object(_.a)(L,(function(e){return e.totale})))}),[L]),Object(i.useEffect)((function(){nt(Ye/(Ze.getTime()-(new Date).getTime())*1e3*60*60*24)}),[Ze,Ye]),Object(i.useEffect)((function(){ke(Object(_.a)(De.slice(1,ee+1),(function(e){return e[1]}))/ee)}),[De,ee]),Object(i.useEffect)((function(){Ae(xe*be*he-Pe)}),[xe,be,he,Pe]),Object(i.useEffect)((function(){var e=Ye/Fe,t=new Date;t.setDate(t.getDate()+Math.round(e)),Re(e),ce(t)}),[Ye,Fe]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.a,{className:"container",maxWidth:"md",style:{opacity:+!!L.length},children:Object(n.jsxs)(O.a,{container:!0,direction:"column",justify:"center",spacing:2,children:[Object(n.jsxs)(O.a,{item:!0,children:["Termine previsto della campagna vaccinale in ",Object(n.jsx)("em",{children:null===(e=se[H])||void 0===e||null===(t=e[0])||void 0===t?void 0:t.nome})," contro Sars-CoV-2."]}),Object(n.jsx)(O.a,{item:!0,component:"h1",children:r(ie)}),Object(n.jsxs)(O.a,{item:!0,children:["In ",Object(n.jsx)(m.a,{value:V.length?H:"",onChange:function(e){return Q(e.target.value)},children:V.map((function(e){return Object(n.jsx)(h.a,{value:e.area,children:e.nome},e.area)}))})," si \xe8 iniziato a somministrare il primo vaccino il ",Object(n.jsx)("em",{children:"27 dicembre 2020"}),". A oggi, ",Object(n.jsx)("em",{children:r(U).toLowerCase()}),", sono state somministrate ",Object(n.jsx)("em",{children:a(Pe)})," dosi, ma ne mancano ",Object(n.jsx)("em",{children:a(Ye)})," per vaccinare il ",Object(n.jsx)(f.a,{value:100*he,onChange:function(e){return fe(+e.target.value/100)},size:"small",inputProps:{type:"number",min:60,max:100,step:5},InputProps:{endAdornment:Object(n.jsx)(p.a,{position:"end",children:"%"})}})," della popolazione con ",Object(n.jsx)(f.a,{value:xe,onChange:function(e){return ve(+e.target.value)},size:"small",inputProps:{type:"number",min:1,max:2,step:1}})," dosi a testa. Al ritmo di ",Object(n.jsx)("em",{children:a(Fe)})," somministrazioni al giorno tenuto negli ultimi ",Object(n.jsx)(f.a,{value:ee,onChange:function(e){return te(+e.target.value)},size:"small",inputProps:{type:"number",min:1,max:De.length,step:1}})," giorni, mancano ",Object(n.jsxs)("em",{children:[Math.floor(Be/365)," anni, ",Math.floor(Be%365/30)," mesi e ",Math.floor(Be%12)," giorni"]})," prima di raggiungere ",Object(n.jsx)("em",{children:"l'immunit\xe0 di gregge"}),". Per ottenerla entro ",Object(n.jsx)(m.a,{value:Je,onChange:function(e){return We(+e.target.value)},children:T.months.map((function(e,t){return Object(n.jsx)(h.a,{value:t,children:e.toLocaleLowerCase()},t)}))})," ",Object(n.jsx)(f.a,{value:qe,onChange:function(e){return Ke(+e.target.value)},size:"small",inputProps:{type:"number",min:(new Date).getFullYear(),max:(new Date).getFullYear()+10,step:1}})," bisognerebbe somministrare una media di ",Object(n.jsx)("em",{children:a(at)})," dosi al giorno."]}),Object(n.jsx)(g.a,{className:"Flower lt"}),Object(n.jsx)(g.a,{className:"Flower lb"}),Object(n.jsx)(g.a,{className:"Cube rt icon",children:Object(n.jsx)(y.a,{color:"primary",onClick:function(){ot(!0)}})}),Object(n.jsx)(g.a,{className:"Flower rb"})]})}),Object(n.jsxs)(x.a,{open:rt,onClose:st,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(v.a,{id:"alert-dialog-title",children:'"Vaccini per tutti" by onData'}),Object(n.jsxs)(w.a,{children:[Object(n.jsxs)(z.a,{children:['"Vaccini per tutti" \xe8 un esperimento che permette di stimare i tempi di avanzamento della campagna di vaccinazione in Italia sulla base degli open data ufficiali del ',Object(n.jsx)("a",{href:"https://github.com/italia/covid19-opendata-vaccini/",target:"_blank",rel:"noreferrer",children:"Commissario straordinario per l'emergenza Covid-19 - Presidenza del Consiglio dei Ministri"})," e di ",Object(n.jsx)("a",{href:"http://demo.istat.it/popres/index.php?anno=2020&lingua=ita",target:"_blank",rel:"noreferrer",children:"ISTAT"}),"."]}),Object(n.jsxs)(z.a,{children:["L'applicazione \xe8 sviluppata e mantenuta da ",Object(n.jsx)("a",{href:"https://github.com/jenkin",target:"_blank",rel:"noreferrer",children:"@jenkin"})," per ",Object(n.jsx)("a",{href:"https://ondata.it/",target:"_blank",rel:"noreferrer",children:"onData APS"}),", associazione di promozione sociale che promuove l'apertura dei dati pubblici per renderli accessibili a tutte e tutti."]}),Object(n.jsxs)(z.a,{children:["Il codice sorgente \xe8 open source e rilasciato sotto licenza MIT su Github: ",Object(n.jsx)("a",{href:"https://github.com/ondata/vaccinipertutti",target:"_blank",rel:"noreferrer",children:"ondata/vaccinipertutti"}),". Questa pagina \xe8 ospitata dal servizio ",Object(n.jsx)("a",{href:"https://pages.github.com/",target:"_blank",rel:"noreferrer",children:"Github Pages"})," e fa esclusivamente uso di cookie tecnici: non traccia n\xe9 profila in alcun modo gli utenti. Se vuoi fare una segnalazione, puoi ",Object(n.jsx)("a",{href:"https://github.com/ondata/vaccinipertutti/issues",target:"_blank",rel:"noreferrer",children:"aprire una issue"}),"."]}),Object(n.jsxs)(z.a,{children:["Puoi sostenere l'attivit\xe0 di onData in molti modi, ",Object(n.jsx)("a",{href:"https://sostieni.ondata.it/",target:"_blank",rel:"noreferrer",children:"dai un'occhiata"}),"!"]})]}),Object(n.jsx)(D.a,{children:Object(n.jsx)(S.a,{onClick:st,color:"secondary",autoFocus:!0,children:"Ho capito, grazie!"})})]})]})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,180)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),c(e),r(e)}))},A=Object(u.a)({palette:{secondary:{main:"#e82f7d"}},typography:{fontFamily:['"Titillium Web"',"sans-serif"]}});r.a.render(Object(n.jsx)(o.a,{children:Object(n.jsx)(l.b,{ReactRouterRoute:s.a,children:Object(n.jsx)(j.a,{theme:A,children:Object(n.jsx)(I,{})})})}),document.getElementById("root")),Y()}},[[115,1,2]]]);
//# sourceMappingURL=main.2e3d0307.chunk.js.map