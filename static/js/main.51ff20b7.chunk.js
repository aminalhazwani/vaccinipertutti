(this.webpackJsonpvaccinipertutti=this.webpackJsonpvaccinipertutti||[]).push([[0],{87:function(e,t,n){},88:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(0),i=n.n(c),r=n(8),o=n.n(r),s=n(63),u=n(11),j=n(13),b=n(64),l=n(141),O=(n(87),n(10)),m=n(134),d=n(138),f=n(142),h=n(145),g=n(146),p=n(149),v=n(147),x=n(132),w=n(133),D=n(143),S=n(144),C=n(59),y=n(51);n(88);var z=function(){var e,t,n=Object(D.a)(C).format(",d"),i=Object(S.a)(y),r=i.format("%A %e %B %Y"),o=i.format("%Y-%M-%d"),s=Object(c.useState)({}),u=Object(O.a)(s,2),b=u[0],l=u[1],z=Object(c.useState)([]),E=Object(O.a)(z,2),F=E[0],M=E[1],P=Object(c.useState)([]),Y=Object(O.a)(P,2),T=Y[0],_=Y[1],A=Object(j.d)("area",Object(j.e)(j.c,"ITA")),I=Object(O.a)(A,2),L=I[0],N=I[1],B=Object(c.useState)(new Date),R=Object(O.a)(B,2),k=R[0],J=R[1],W=Object(j.d)("lastDays",Object(j.e)(j.a,7)),V=Object(O.a)(W,2),q=V[0],G=V[1],H=Object(c.useState)(new Date),K=Object(O.a)(H,2),Q=K[0],U=K[1],X=Object(c.useState)({}),Z=Object(O.a)(X,2),$=Z[0],ee=Z[1],te=Object(c.useState)(6e7),ne=Object(O.a)(te,2),ae=ne[0],ce=ne[1],ie=Object(j.d)("populationFraction",Object(j.e)(j.a,.8)),re=Object(O.a)(ie,2),oe=re[0],se=re[1],ue=Object(j.d)("doses",Object(j.e)(j.a,2)),je=Object(O.a)(ue,2),be=je[0],le=je[1],Oe=Object(c.useState)([]),me=Object(O.a)(Oe,2),de=me[0],fe=me[1],he=Object(c.useState)([]),ge=Object(O.a)(he,2),pe=ge[0],ve=ge[1],xe=Object(c.useState)(0),we=Object(O.a)(xe,2),De=we[0],Se=we[1],Ce=Object(c.useState)(0),ye=Object(O.a)(Ce,2),ze=ye[0],Ee=ye[1],Fe=Object(c.useState)(0),Me=Object(O.a)(Fe,2),Pe=Me[0],Ye=Me[1],Te=Object(j.d)("targetMonth",Object(j.e)(j.a,11)),_e=Object(O.a)(Te,2),Ae=_e[0],Ie=_e[1],Le=Object(j.d)("targetYear",Object(j.e)(j.a,(new Date).getFullYear())),Ne=Object(O.a)(Le,2),Be=Ne[0],Re=Ne[1],ke=Object(c.useState)(new Date),Je=Object(O.a)(ke,2),We=Je[0],Ve=Je[1],qe=Object(c.useState)(0),Ge=Object(O.a)(qe,2),He=Ge[0],Ke=Ge[1];return Object(c.useEffect)((function(){window.fetch("../vaccinipertutti-data/last-update-dataset.json").then((function(e){return e.json()})).then((function(e){J(new Date(e.ultimo_aggiornamento))})),window.fetch("../vaccinipertutti-data/popolazione_residente_2020.json").then((function(e){return e.json()})).then((function(e){_(e),ee(Object.fromEntries(Object(v.a)(e,(function(e){return e.area}))))})),window.fetch("../vaccinipertutti-data/somministrazioni-vaccini-summary-latest.json").then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return e.sort((function(e,t){return Object(x.a)(e.data_somministrazione,t.data_somministrazione)}))})).then((function(e){l(Object.fromEntries(Object(v.a)(e,(function(e){return e.area}))))}))}),[]),Object(c.useEffect)((function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()+1,0),n=new Date(Be,Ae+1,0);console.log(t,n),n>t?Ve(new Date(Be,Ae+1,0)):(Ie(We.getMonth()),Re(We.getFullYear()))}),[Ae,Be]),Object(c.useEffect)((function(){M(b[L]||[])}),[b,L]),Object(c.useEffect)((function(){$[L]&&ce($[L][0].totale)}),[$,L]),Object(c.useEffect)((function(){fe(Object(v.b)(F,(function(e){return Object(w.a)(e,(function(e){return e.totale}))}),(function(e){return o(new Date(e.data_somministrazione))}))),Se(Object(w.a)(F,(function(e){return e.totale})))}),[F]),Object(c.useEffect)((function(){Ke(ze/(We.getTime()-(new Date).getTime())*1e3*60*60*24)}),[We,ze]),Object(c.useEffect)((function(){ve(Object(w.a)(de.slice(1,q+1),(function(e){return e[1]}))/q)}),[de,q]),Object(c.useEffect)((function(){Ee(be*ae*oe-De)}),[be,ae,oe,De]),Object(c.useEffect)((function(){var e=ze/pe,t=new Date;t.setDate(t.getDate()+Math.round(e)),Ye(e),U(t)}),[ze,pe]),Object(a.jsx)(m.a,{maxWidth:"md",children:Object(a.jsxs)(d.a,{container:!0,direction:"column",justify:"center",spacing:2,children:[Object(a.jsxs)(d.a,{item:!0,children:["Termine previsto della campagna vaccinale in ",Object(a.jsx)("em",{children:null===(e=$[L])||void 0===e||null===(t=e[0])||void 0===t?void 0:t.nome})," contro Sars-CoV-2."]}),Object(a.jsx)(d.a,{item:!0,component:"h1",children:r(Q)}),Object(a.jsxs)(d.a,{item:!0,children:["In ",Object(a.jsx)(f.a,{value:T.length?L:"",onChange:function(e){return N(e.target.value)},children:T.map((function(e){return Object(a.jsx)(h.a,{value:e.area,children:e.nome},e.area)}))})," si \xe8 iniziato a somministrare il primo vaccino il ",Object(a.jsx)("em",{children:"27 dicembre 2020"}),". A oggi, ",Object(a.jsx)("em",{children:r(k).toLowerCase()}),", sono state somministrate ",Object(a.jsx)("em",{children:n(De)})," dosi, ma ne mancano ",Object(a.jsx)("em",{children:n(ze)})," per vaccinare l'",Object(a.jsx)(g.a,{value:100*oe,onChange:function(e){return se(+e.target.value/100)},size:"small",inputProps:{type:"number",min:60,max:100,step:5},InputProps:{endAdornment:Object(a.jsx)(p.a,{position:"end",children:"%"})}})," della popolazione con ",Object(a.jsx)(g.a,{value:be,onChange:function(e){return le(+e.target.value)},size:"small",inputProps:{type:"number",min:1,max:2,step:1}})," dosi a testa. Al ritmo di ",Object(a.jsx)("em",{children:n(pe)})," somministrazioni al giorno tenuto negli ultimi ",Object(a.jsx)(g.a,{value:q,onChange:function(e){return G(+e.target.value)},size:"small",inputProps:{type:"number",min:1,max:de.length,step:1}})," giorni, mancano ",Object(a.jsxs)("em",{children:[Math.floor(Pe/365)," anni, ",Math.floor(Pe%365/30)," mesi e ",Math.floor(Pe%12)," giorni"]})," prima di raggiungere ",Object(a.jsx)("em",{children:"l'immunit\xe0 di gregge"}),". Per ottenerla entro ",Object(a.jsx)(f.a,{value:Ae,onChange:function(e){return Ie(+e.target.value)},children:y.months.map((function(e,t){return Object(a.jsx)(h.a,{value:t,children:e.toLocaleLowerCase()},t)}))})," ",Object(a.jsx)(g.a,{value:Be,onChange:function(e){return Re(+e.target.value)},size:"small",inputProps:{type:"number",min:(new Date).getFullYear(),max:(new Date).getFullYear()+10,step:1}})," bisognerebbe somministrare una media di ",Object(a.jsx)("em",{children:n(He)})," dosi al giorno."]}),Object(a.jsx)("div",{className:"Cube lt"}),Object(a.jsx)("div",{className:"Cube lb"}),Object(a.jsx)("div",{className:"Cube rt"}),Object(a.jsx)("div",{className:"Cube rb"})]})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,150)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},F=Object(b.a)({palette:{secondary:{main:"#e82f7d"}},typography:{fontFamily:['"Titillium Web"',"sans-serif"]}});o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(s.a,{children:Object(a.jsx)(j.b,{ReactRouterRoute:u.a,children:Object(a.jsx)(l.a,{theme:F,children:Object(a.jsx)(z,{})})})})}),document.getElementById("root")),E()}},[[95,1,2]]]);
//# sourceMappingURL=main.51ff20b7.chunk.js.map