(this.webpackJsonpvaccinipertutti=this.webpackJsonpvaccinipertutti||[]).push([[0],{59:function(e,t,n){},60:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(0),i=n.n(c),r=n(8),o=n.n(r),s=(n(59),n(10)),u=n(109),j=n(112),b=n(113),l=n(116),O=n(114),m=n(102),f=n(103),d=n(110),h=n(111),g=n(44),p=n(41);n(60);var v=function(){var e,t,n=Object(d.a)(g).format(",d"),i=Object(h.a)(p),r=i.format("%A %e %B %Y"),o=i.format("%Y-%M-%d"),v=Object(c.useState)({}),x=Object(s.a)(v,2),w=x[0],S=x[1],D=Object(c.useState)([]),C=Object(s.a)(D,2),z=C[0],E=C[1],F=Object(c.useState)([]),M=Object(s.a)(F,2),P=M[0],Y=M[1],y=Object(c.useState)("ITA"),A=Object(s.a)(y,2),T=A[0],_=A[1],I=Object(c.useState)(new Date),L=Object(s.a)(I,2),N=L[0],B=L[1],k=Object(c.useState)(7),J=Object(s.a)(k,2),V=J[0],q=J[1],G=Object(c.useState)(new Date),H=Object(s.a)(G,2),K=H[0],Q=H[1],R=Object(c.useState)({}),U=Object(s.a)(R,2),W=U[0],X=U[1],Z=Object(c.useState)(6e7),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ne=Object(c.useState)(.8),ae=Object(s.a)(ne,2),ce=ae[0],ie=ae[1],re=Object(c.useState)(2),oe=Object(s.a)(re,2),se=oe[0],ue=oe[1],je=Object(c.useState)([]),be=Object(s.a)(je,2),le=be[0],Oe=be[1],me=Object(c.useState)([]),fe=Object(s.a)(me,2),de=fe[0],he=fe[1],ge=Object(c.useState)(0),pe=Object(s.a)(ge,2),ve=pe[0],xe=pe[1],we=Object(c.useState)(0),Se=Object(s.a)(we,2),De=Se[0],Ce=Se[1],ze=Object(c.useState)(0),Ee=Object(s.a)(ze,2),Fe=Ee[0],Me=Ee[1],Pe=Object(c.useState)(11),Ye=Object(s.a)(Pe,2),ye=Ye[0],Ae=Ye[1],Te=Object(c.useState)((new Date).getFullYear()),_e=Object(s.a)(Te,2),Ie=_e[0],Le=_e[1],Ne=Object(c.useState)(new Date),Be=Object(s.a)(Ne,2),ke=Be[0],Je=Be[1],Ve=Object(c.useState)(0),qe=Object(s.a)(Ve,2),Ge=qe[0],He=qe[1];return Object(c.useEffect)((function(){window.fetch("../vaccinipertutti-data/last-update-dataset.json").then((function(e){return e.json()})).then((function(e){B(new Date(e.ultimo_aggiornamento))})),window.fetch("../vaccinipertutti-data/popolazione_residente_2020.json").then((function(e){return e.json()})).then((function(e){Y(e),X(Object.fromEntries(Object(O.a)(e,(function(e){return e.area}))))})),window.fetch("../vaccinipertutti-data/somministrazioni-vaccini-summary-latest.json").then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return e.sort((function(e,t){return Object(m.a)(e.data_somministrazione,t.data_somministrazione)}))})).then((function(e){S(Object.fromEntries(Object(O.a)(e,(function(e){return e.area}))))}))}),[]),Object(c.useEffect)((function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()+1,0),n=new Date(Ie,ye+1,0);console.log(t,n),n>t?Je(new Date(Ie,ye+1,0)):(Ae(ke.getMonth()),Le(ke.getFullYear()))}),[ye,Ie]),Object(c.useEffect)((function(){E(w[T]||[])}),[w,T]),Object(c.useEffect)((function(){W[T]&&te(W[T][0].totale)}),[W,T]),Object(c.useEffect)((function(){Oe(Object(O.b)(z,(function(e){return Object(f.a)(e,(function(e){return e.totale}))}),(function(e){return o(new Date(e.data_somministrazione))}))),xe(Object(f.a)(z,(function(e){return e.totale})))}),[z]),Object(c.useEffect)((function(){He(De/(ke.getTime()-(new Date).getTime())*1e3*60*60*24)}),[ke,De]),Object(c.useEffect)((function(){he(Object(f.a)(le.slice(1,V+1),(function(e){return e[1]}))/V)}),[le,V]),Object(c.useEffect)((function(){Ce(se*ee*ce-ve)}),[se,ee,ce,ve]),Object(c.useEffect)((function(){var e=De/de,t=new Date;t.setDate(t.getDate()+Math.round(e)),Me(e),Q(t)}),[De,de]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("p",{children:["Termine previsto della campagna vaccinale in ",Object(a.jsx)("em",{children:null===(e=W[T])||void 0===e||null===(t=e[0])||void 0===t?void 0:t.nome})," contro Sars-CoV-2."]}),Object(a.jsx)("h1",{children:r(K)}),Object(a.jsxs)("div",{children:["In ",Object(a.jsx)(u.a,{value:P.length?T:"",onChange:function(e){return _(e.target.value)},children:P.map((function(e){return Object(a.jsx)(j.a,{value:e.area,children:e.nome},e.area)}))})," si \xe8 iniziato a somministrare il primo vaccino il ",Object(a.jsx)("em",{children:"27 dicembre 2020"}),". A oggi, ",Object(a.jsx)("em",{children:r(N).toLowerCase()}),", sono state somministrate ",Object(a.jsx)("em",{children:n(ve)})," dosi, ma ne mancano ",Object(a.jsx)("em",{children:n(De)})," per vaccinare l'",Object(a.jsx)(b.a,{value:100*ce,onChange:function(e){return ie(+e.target.value/100)},size:"small",inputProps:{type:"number",min:60,max:100,step:5},InputProps:{endAdornment:Object(a.jsx)(l.a,{position:"end",children:"%"})}})," della popolazione con ",Object(a.jsx)(b.a,{value:se,onChange:function(e){return ue(+e.target.value)},size:"small",inputProps:{type:"number",min:1,max:2,step:1}})," dosi a testa. Al ritmo di ",Object(a.jsx)("em",{children:n(de)})," somministrazioni al giorno tenuto negli ultimi ",Object(a.jsx)(b.a,{value:V,onChange:function(e){return q(+e.target.value)},size:"small",inputProps:{type:"number",min:1,max:le.length,step:1}})," giorni, mancano ",Object(a.jsxs)("em",{children:[Math.floor(Fe/365)," anni, ",Math.floor(Fe%365/30)," mesi e ",Math.floor(Fe%12)," giorni"]})," prima di raggiungere ",Object(a.jsx)("em",{children:"l'immunit\xe0 di gregge"}),". Per ottenerla entro ",Object(a.jsx)(u.a,{value:ye,onChange:function(e){return Ae(+e.target.value)},children:p.months.map((function(e,t){return Object(a.jsx)(j.a,{value:t,children:e.toLocaleLowerCase()},t)}))})," ",Object(a.jsx)(b.a,{value:Ie,onChange:function(e){return Le(+e.target.value)},size:"small",inputProps:{type:"number",min:(new Date).getFullYear(),max:(new Date).getFullYear()+10,step:1}})," bisognerebbe somministrare una media di ",Object(a.jsx)("em",{children:n(Ge)})," dosi al giorno."]}),Object(a.jsx)("div",{className:"Cube lt"}),Object(a.jsx)("div",{className:"Cube lb"}),Object(a.jsx)("div",{className:"Cube rt"}),Object(a.jsx)("div",{className:"Cube rb"})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,117)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root")),x()}},[[66,1,2]]]);
//# sourceMappingURL=main.a0c6882a.chunk.js.map