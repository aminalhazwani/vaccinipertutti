(this.webpackJsonpvaccinipertutti=this.webpackJsonpvaccinipertutti||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(6),i=a(0),c=a(10),r=a.n(c),o=a(76),s=a(13),l=a(14),u=a(77),j=a(165),b=(a(107),a(12)),d=a(151),O=a(154),m=a(169),h=a(176),f=a(172),p=a(158),g=a(167),x=a(173),v=a(160),w=a(161),z=a(162),D=a(163),S=a(164),y=a(159),C=a(174),F=a(149),k=a(150),_=a(168),E=a(170),P=a(72),M=a(60);a(108);var T=function(){var e,t,a=Object(_.a)(P).format(",d"),c=Object(E.a)(M),r=c.format("%A %e %B %Y"),o=c.format("%Y-%M-%d"),s=Object(i.useState)({}),u=Object(b.a)(s,2),j=u[0],T=u[1],I=Object(i.useState)([]),Y=Object(b.a)(I,2),A=Y[0],L=Y[1],N=Object(i.useState)([]),B=Object(b.a)(N,2),R=B[0],V=B[1],G=Object(l.d)("area",Object(l.e)(l.c,"ITA")),J=Object(b.a)(G,2),W=J[0],H=J[1],Q=Object(i.useState)(new Date),q=Object(b.a)(Q,2),K=q[0],U=q[1],X=Object(l.d)("lastDays",Object(l.e)(l.a,7)),Z=Object(b.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)(new Date),ae=Object(b.a)(te,2),ne=ae[0],ie=ae[1],ce=Object(i.useState)({}),re=Object(b.a)(ce,2),oe=re[0],se=re[1],le=Object(i.useState)(6e7),ue=Object(b.a)(le,2),je=ue[0],be=ue[1],de=Object(l.d)("populationFraction",Object(l.e)(l.a,.8)),Oe=Object(b.a)(de,2),me=Oe[0],he=Oe[1],fe=Object(l.d)("doses",Object(l.e)(l.a,2)),pe=Object(b.a)(fe,2),ge=pe[0],xe=pe[1],ve=Object(i.useState)([]),we=Object(b.a)(ve,2),ze=we[0],De=we[1],Se=Object(i.useState)([]),ye=Object(b.a)(Se,2),Ce=ye[0],Fe=ye[1],ke=Object(i.useState)(0),_e=Object(b.a)(ke,2),Ee=_e[0],Pe=_e[1],Me=Object(i.useState)(0),Te=Object(b.a)(Me,2),Ie=Te[0],Ye=Te[1],Ae=Object(i.useState)(0),Le=Object(b.a)(Ae,2),Ne=Le[0],Be=Le[1],Re=Object(l.d)("targetMonth",Object(l.e)(l.a,11)),Ve=Object(b.a)(Re,2),Ge=Ve[0],Je=Ve[1],We=Object(l.d)("targetYear",Object(l.e)(l.a,(new Date).getFullYear())),He=Object(b.a)(We,2),Qe=He[0],qe=He[1],Ke=Object(i.useState)(new Date),Ue=Object(b.a)(Ke,2),Xe=Ue[0],Ze=Ue[1],$e=Object(i.useState)(0),et=Object(b.a)($e,2),tt=et[0],at=et[1],nt=Object(i.useState)(!1),it=Object(b.a)(nt,2),ct=it[0],rt=it[1];function ot(){rt(!1)}return Object(i.useEffect)((function(){window.fetch("../vaccinipertutti-data/last-update-dataset.json").then((function(e){return e.json()})).then((function(e){U(new Date(e.ultimo_aggiornamento))})),window.fetch("../vaccinipertutti-data/popolazione_residente_2020.json").then((function(e){return e.json()})).then((function(e){V(e),se(Object.fromEntries(Object(C.a)(e,(function(e){return e.area}))))})),window.fetch("../vaccinipertutti-data/somministrazioni-vaccini-summary-latest.json").then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return e.sort((function(e,t){return Object(F.a)(e.data_somministrazione,t.data_somministrazione)}))})).then((function(e){T(Object.fromEntries(Object(C.a)(e,(function(e){return e.area}))))}))}),[]),Object(i.useEffect)((function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()+1,0),a=new Date(Qe,Ge+1,0);console.log(t,a),a>t?Ze(new Date(Qe,Ge+1,0)):(Je(Xe.getMonth()),qe(Xe.getFullYear()))}),[Ge,Qe]),Object(i.useEffect)((function(){L(j[W]||[])}),[j,W]),Object(i.useEffect)((function(){oe[W]&&be(oe[W][0].totale)}),[oe,W]),Object(i.useEffect)((function(){De(Object(C.b)(A,(function(e){return Object(k.a)(e,(function(e){return e.totale}))}),(function(e){return o(new Date(e.data_somministrazione))}))),Pe(Object(k.a)(A,(function(e){return e.totale})))}),[A]),Object(i.useEffect)((function(){at(Ie/(Xe.getTime()-(new Date).getTime())*1e3*60*60*24)}),[Xe,Ie]),Object(i.useEffect)((function(){Fe(Object(k.a)(ze.slice(1,$+1),(function(e){return e[1]}))/$)}),[ze,$]),Object(i.useEffect)((function(){Ye(ge*je*me-Ee)}),[ge,je,me,Ee]),Object(i.useEffect)((function(){var e=Ie/Ce,t=new Date;t.setDate(t.getDate()+Math.round(e)),Be(e),ie(t)}),[Ie,Ce]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.a,{className:"container",maxWidth:"md",style:{opacity:+!!A.length},children:Object(n.jsxs)(O.a,{container:!0,direction:"column",justify:"center",spacing:2,children:[Object(n.jsxs)(O.a,{item:!0,children:["Termine previsto della campagna vaccinale in ",Object(n.jsx)("em",{children:null===(e=oe[W])||void 0===e||null===(t=e[0])||void 0===t?void 0:t.nome})," contro Sars-CoV-2."]}),Object(n.jsx)(O.a,{item:!0,component:"h1",children:r(ne)}),Object(n.jsxs)(O.a,{item:!0,children:["In ",Object(n.jsx)(m.a,{value:R.length?W:"",onChange:function(e){return H(e.target.value)},children:R.map((function(e){return Object(n.jsx)(h.a,{value:e.area,children:e.nome},e.area)}))})," si \xe8 iniziato a somministrare il primo vaccino il ",Object(n.jsx)("em",{children:"27 dicembre 2020"}),". A oggi, ",Object(n.jsx)("em",{children:r(K).toLowerCase()}),", sono state somministrate ",Object(n.jsx)("em",{children:a(Ee)})," dosi, ma ne mancano ",Object(n.jsx)("em",{children:a(Ie)})," per vaccinare l'",Object(n.jsx)(f.a,{value:100*me,onChange:function(e){return he(+e.target.value/100)},size:"small",inputProps:{type:"number",min:60,max:100,step:5},InputProps:{endAdornment:Object(n.jsx)(p.a,{position:"end",children:"%"})}})," della popolazione con ",Object(n.jsx)(f.a,{value:ge,onChange:function(e){return xe(+e.target.value)},size:"small",inputProps:{type:"number",min:1,max:2,step:1}})," dosi a testa. Al ritmo di ",Object(n.jsx)("em",{children:a(Ce)})," somministrazioni al giorno tenuto negli ultimi ",Object(n.jsx)(f.a,{value:$,onChange:function(e){return ee(+e.target.value)},size:"small",inputProps:{type:"number",min:1,max:ze.length,step:1}})," giorni, mancano ",Object(n.jsxs)("em",{children:[Math.floor(Ne/365)," anni, ",Math.floor(Ne%365/30)," mesi e ",Math.floor(Ne%12)," giorni"]})," prima di raggiungere ",Object(n.jsx)("em",{children:"l'immunit\xe0 di gregge"}),". Per ottenerla entro ",Object(n.jsx)(m.a,{value:Ge,onChange:function(e){return Je(+e.target.value)},children:M.months.map((function(e,t){return Object(n.jsx)(h.a,{value:t,children:e.toLocaleLowerCase()},t)}))})," ",Object(n.jsx)(f.a,{value:Qe,onChange:function(e){return qe(+e.target.value)},size:"small",inputProps:{type:"number",min:(new Date).getFullYear(),max:(new Date).getFullYear()+10,step:1}})," bisognerebbe somministrare una media di ",Object(n.jsx)("em",{children:a(tt)})," dosi al giorno."]}),Object(n.jsx)(g.a,{className:"Flower lt"}),Object(n.jsx)(g.a,{className:"Flower lb"}),Object(n.jsx)(g.a,{className:"Cube rt icon",children:Object(n.jsx)(y.a,{color:"primary",onClick:function(){rt(!0)}})}),Object(n.jsx)(g.a,{className:"Flower rb"})]})}),Object(n.jsxs)(x.a,{open:ct,onClose:ot,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(v.a,{id:"alert-dialog-title",children:'"Vaccini per tutti" by onData'}),Object(n.jsxs)(w.a,{children:[Object(n.jsxs)(z.a,{children:['"Vaccini per tutti" \xe8 un esperimento che permette di stimare i tempi di avanzamento della campagna di vaccinazione in Italia sulla base degli open data ufficiali del ',Object(n.jsx)("a",{href:"https://github.com/italia/covid19-opendata-vaccini/",target:"_blank",rel:"noreferrer",children:"Commissario straordinario per l'emergenza Covid-19 - Presidenza del Consiglio dei Ministri"})," e di ",Object(n.jsx)("a",{href:"http://demo.istat.it/popres/index.php?anno=2020&lingua=ita",target:"_blank",rel:"noreferrer",children:"ISTAT"}),"."]}),Object(n.jsxs)(z.a,{children:["L'applicazione \xe8 sviluppata e mantenuta da ",Object(n.jsx)("a",{href:"https://github.com/jenkin",target:"_blank",rel:"noreferrer",children:"@jenkin"})," per ",Object(n.jsx)("a",{href:"https://ondata.it/",target:"_blank",rel:"noreferrer",children:"onData APS"}),", associazione di promozione sociale che promuove l'apertura dei dati pubblici per renderli accessibili a tutte e tutti."]}),Object(n.jsxs)(z.a,{children:["Il codice sorgente \xe8 open source e rilasciato sotto licenza MIT su Github: ",Object(n.jsx)("a",{href:"https://github.com/ondata/vaccinipertutti",target:"_blank",rel:"noreferrer",children:"ondata/vaccinipertutti"}),". Questa pagina \xe8 ospitata dal servizio ",Object(n.jsx)("a",{href:"https://pages.github.com/",target:"_blank",rel:"noreferrer",children:"Github Pages"})," e fa esclusivamente uso di cookie tecnici: non traccia n\xe9 profila in alcun modo gli utenti. Se vuoi fare una segnalazione, puoi ",Object(n.jsx)("a",{href:"https://github.com/ondata/vaccinipertutti/issues",target:"_blank",rel:"noreferrer",children:"aprire una issue"}),"."]}),Object(n.jsxs)(z.a,{children:["Puoi sostenere l'attivit\xe0 di onData in molti modi, ",Object(n.jsx)("a",{href:"https://sostieni.ondata.it/",target:"_blank",rel:"noreferrer",children:"dai un'occhiata"}),"!"]})]}),Object(n.jsx)(D.a,{children:Object(n.jsx)(S.a,{onClick:ot,color:"secondary",autoFocus:!0,children:"Ho capito, grazie!"})})]})]})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,179)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),c(e),r(e)}))},Y=Object(u.a)({palette:{secondary:{main:"#e82f7d"}},typography:{fontFamily:['"Titillium Web"',"sans-serif"]}});r.a.render(Object(n.jsx)(o.a,{children:Object(n.jsx)(l.b,{ReactRouterRoute:s.a,children:Object(n.jsx)(j.a,{theme:Y,children:Object(n.jsx)(T,{})})})}),document.getElementById("root")),I()}},[[115,1,2]]]);
//# sourceMappingURL=main.7a43863e.chunk.js.map